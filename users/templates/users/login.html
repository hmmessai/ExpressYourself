{% extends 'base.html'%}
{% block content%}
<div class="container-fluid" style="height: 76.5vh;">
  <div class="col-lg-6 mx-auto p-5 h-100">
    <form class="form-control p-5" method="post" action="{% url 'login' %}">
      {% csrf_token %}
      <h2 class="text-center mb-4">Login</h2>
      {% if form.non_field_errors %}
          <div class="text-danger text-center">
              {% for error in form.non_field_errors %}
                  <p>{{ error }}</p>
              {% endfor %}
          </div>
      {% endif %}
      <div class="form-floating mb-3">
        {{ form.username }}
        <label for="{{ form.username.id_for_label }}">Username</label>
        {% if form.username.errors %}
            <div class="error mb-2 text-danger mx-4">
                {{ form.username.errors.0 }}
            </div>
        {% endif %}
      </div>

      <div class="form-floating mb-3">
          {{ form.password }}
          <label for="{{ form.password.id_for_label }}">Password</label>
          <button type="button" onclick="togglePassword('id_password')" class="btn btn-secondary btn-sm" style="position: absolute; top: 25%; right: 5%; background: none; border: none;"><i class="bi bi-eye-fill fs-5"></i></button>
          {% if form.password.errors %}
              <div class="error mb-2 text-danger mx-4">
                  {{ form.password.errors.0 }}
              </div>
          {% endif %}
      </div>
      <div class="text-center p-2">
        <a href="{% url 'signup' %}">
          Don't have an account? Sign up.
        </a>
      </div>
      <div class="form-floating text-center mt-2">
        <button type='submit' class="btn btn-dark px-5">Log in</button>
      </div>
    </div>
  </form>
  </div>
</div>
    
        <!-- <div class="row">
          <div class="col-md-10 mx-auto">
            <h2 class="text-center p-2 mb-3">Login</h2>
            {% if error %}
              <p class="alert alert-danger text-center">{{ error }}</p>
            {% endif %}
            <div class="form-floating mb-3">
              <input type="text" class="form-control mb-3" id="floatingInput" placeholder="name@example.com" name="username">
              <label for="floatingInput">Email address</label>
            </div>
            <div class="form-floating">
              <input type="password" class="form-control mb-3" id="floatingPassword" placeholder="Password" name="password">
              <label for="floatingPassword">Password</label>
            </div>
            <div class="text-center mb-4">
              <a href="{% url 'signup' %}">Don't have an account? Sign up.</a>
            </div>
            
        </div> -->
        
    
{% endblock %}

{% block scripts %}
<script>
  function togglePassword(fieldId) {
    var passwordField = document.getElementById(fieldId);
    var button = document.querySelector(`[onclick="togglePassword('${fieldId}')"]`);
    
    if (passwordField.type === "password") {
        passwordField.type = "text";
        button.innerHTML = '<i class="bi bi-eye-slash-fill fs-5"></i>';
    } else {
        passwordField.type = "password";
        button.innerHTML = '<i class="bi bi-eye-fill fs-5"></i>';
    }
  }
</script>

{% endblock %}